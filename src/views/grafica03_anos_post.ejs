<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Comparative graphic (YLL)</title>
    <%- include('../partials/head.html')%>
  </head>
  <body>
    <%- include('../partials/navigation.html')%>
    <br><br>

    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>

    <figure class="highcharts-figure">
        <div id="container"></div>
        <p class="highcharts-description">
        </p>
    </figure>

<style type="text/css">
  #container {
    min-width: 310px;
      max-width: 800px;
    margin: 1em auto;
}

.highcharts-figure, .highcharts-data-table table {
    min-width: 310px;
    max-width: 800px;
    margin: 1em auto;
}

.highcharts-data-table table {
    font-family: Verdana, sans-serif;
    border-collapse: collapse;
    border: 1px solid #EBEBEB;
    margin: 10px auto;
    text-align: center;
    width: 100%;
    max-width: 500px;
}
.highcharts-data-table caption {
    padding: 1em 0;
    font-size: 1.2em;
    color: #555;
}
.highcharts-data-table th {
	font-weight: 600;
    padding: 0.5em;
}
.highcharts-data-table td, .highcharts-data-table th, .highcharts-data-table caption {
    padding: 0.5em;
}
.highcharts-data-table thead tr, .highcharts-data-table tr:nth-child(even) {
    background: #f8f8f8;
}
.highcharts-data-table tr:hover {
    background: #f1f7ff;
}
fieldset{ margin-top:-410px;}

</style>
<figure class="highcharts-figure">
    <div id="container">
<script type="text/javascript">
  Highcharts.chart('container', {
    chart: {
        type: 'column'
    },
    title: {
        text: 'Total years of life lost by 100000 inhabitants'
    },
    subtitle: {
        text: 'Source: <a href="https://www.eea.europa.eu/publications/air-quality-in-europe-2020-report">Air quality in Europe â€” 2020 report</a><br><br>Datum by 2018'
    },
    xAxis: {
        type: 'category',
        labels: {
            rotation: -45,
            style: {
                fontSize: '13px',
                fontFamily: 'Verdana, sans-serif'
            }
        }
    },
    yAxis: {
        min: 0,
        title: {
            text: 'Total years of life lost'
        }
    },
    legend: {
        enabled: false
    },
    tooltip: {
        pointFormat: '<tr><td style="color:{series.color};padding:0"> </td>' +
            '<td style="padding:0"><b>{point.y:.1f}</b></td></tr>'
    },
    series: [{
        name: 'Countries',
        data: [
        <% for(var i=0; i < datos.length; i++) { %>
             ['<%= datos[i].Country %>',<%= datos[i].YLL_Hab_PM25+datos[i].YLL_Hab_NO2+datos[i].YLL_Hab_O3 %>],
          <% } %>
        ],
        dataLabels: {
            enabled: true,
            rotation: -90,
            color: '#FFFFFF',
            align: 'right',
            format: '{point.y:.1f}', // one decimal
            y: 10, // 10 pixels down from the top
            style: {
                fontSize: '13px',
                fontFamily: 'Verdana, sans-serif'
            }
        }
    }]
});
</script>
</div>
<br><br><br><br><br><br>
<footer class="mt-auto text-white-50">
  <tr>
    <td colspan="2">
      <br>
      <center>
          <img id="imagen" src="images/pie.png" alt="">
      </center>
    </td>
  </tr>
</footer>
</body>
</html>
